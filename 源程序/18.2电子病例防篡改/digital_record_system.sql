/*
 Navicat MySQL Data Transfer

 Source Server         : localhost_3306
 Source Server Type    : MySQL
 Source Server Version : 80011
 Source Host           : localhost:3306
 Source Schema         : digital_record_system

 Target Server Type    : MySQL
 Target Server Version : 80011
 File Encoding         : 65001

 Date: 20/08/2018 14:28:54
*/

SET NAMES utf8mb4;
SET FOREIGN_KEY_CHECKS = 0;

-- ----------------------------
-- Table structure for d_department
-- ----------------------------
DROP TABLE IF EXISTS `d_department`;
CREATE TABLE `d_department`  (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE INDEX `d_department_name_uindex`(`name`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 3 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of d_department
-- ----------------------------
INSERT INTO `d_department` VALUES (1, '内科');
INSERT INTO `d_department` VALUES (2, '外科');
INSERT INTO `d_department` VALUES (3, '心血管科');

-- ----------------------------
-- Table structure for d_digital_sign
-- ----------------------------
DROP TABLE IF EXISTS `d_digital_sign`;
CREATE TABLE `d_digital_sign`  (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `doctor_id` int(11) NOT NULL,
  `record_id` int(11) NOT NULL,
  `sign_1` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
  `sign_2` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 2 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of d_digital_sign
-- ----------------------------
INSERT INTO `d_digital_sign` VALUES (1, 4, 1, '683097385182365825762297738260203564918079820579', '462308959255233438256622824662618654239939986323');
INSERT INTO `d_digital_sign` VALUES (2, 4, 2, '82400991888357287726326336912702553500049557681', '5811903560775760555413158833372865488030597922');

-- ----------------------------
-- Table structure for d_doctor_info
-- ----------------------------
DROP TABLE IF EXISTS `d_doctor_info`;
CREATE TABLE `d_doctor_info`  (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(8) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
  `department_id` int(11) NOT NULL,
  `gender` int(11) NULL DEFAULT 0,
  `age` int(11) NULL DEFAULT NULL,
  `private_key_id` int(11) NOT NULL,
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE INDEX `d_doctor_info_priviate_key_id_uindex`(`private_key_id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 5 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of d_doctor_info
-- ----------------------------
INSERT INTO `d_doctor_info` VALUES (1, 'er', 1, 1, 2, 1);
INSERT INTO `d_doctor_info` VALUES (2, 'ty', 1, 1, 2, 4);
INSERT INTO `d_doctor_info` VALUES (3, '1', 1, 1, 1, 5);
INSERT INTO `d_doctor_info` VALUES (4, '3', 1, 1, 3, 6);
INSERT INTO `d_doctor_info` VALUES (5, '1', 1, 1, 1, 7);

-- ----------------------------
-- Table structure for d_medical_record
-- ----------------------------
DROP TABLE IF EXISTS `d_medical_record`;
CREATE TABLE `d_medical_record`  (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `r_name` varchar(8) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
  `company` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
  `gender` int(11) NOT NULL,
  `address` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
  `age` int(11) NOT NULL,
  `department_id` int(11) NOT NULL,
  `nation` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
  `r_date` datetime(0) NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `symptom` varchar(256) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
  `conclusion` varchar(256) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE INDEX `d_medical_record_r_name_uindex`(`r_name`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 2 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of d_medical_record
-- ----------------------------
INSERT INTO `d_medical_record` VALUES (1, '33', '3', 1, '33', 3, 1, '333', '2018-08-06 15:31:46', '3', '3');
INSERT INTO `d_medical_record` VALUES (2, 'user', '汉东制衣厂', 1, '文化路', 21, 1, '汉', '2018-08-06 18:53:02', 'SQL万能密码：\' or 1=\'1\nselect name,pass from tbAdmin where name=\'admin\' and pass=\'123456\'\n输入用户名：\' or 1=\'1\nSQL变成下面这个样子：select name,pass from tbAdmin where name=\'\' or 1=\'1\' and pass=\'123456\'', '1=\'1\' 永远为真，所以就验证通过了');

-- ----------------------------
-- Table structure for d_private_key
-- ----------------------------
DROP TABLE IF EXISTS `d_private_key`;
CREATE TABLE `d_private_key`  (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `key_y` varchar(308) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
  `key_g` varchar(308) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
  `key_p` varchar(308) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
  `key_q` varchar(308) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
  `key_x` varchar(308) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 7 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of d_private_key
-- ----------------------------
INSERT INTO `d_private_key` VALUES (3, '68392892361410257654702449886930127764794641973223587340949286043067062961154632004019032599665154891508700412211284806816536197878667070076979155498296183190585733259670549970039194339006918516256465960776148977790985396114647030578139205106414786231734961646297186221045437348900016180234325076034771183631', '6377475789455272453494177956470674425196517879310908617742345232606037493745505579008783541106023861223589640745166937126735032433580339624075238707101048355287949696641107244354795906402624577621083915923884827028653110497081573582873223119871764858169758472441182699738252053854083765799589632838540870263', '89884656743115795423557332395472531913200464484210617524239424795642078170871077225857627921022783788190051528830885674808031827035145570106747892863513062723335291981906055115078388784502261375606069371773948056764656871837848899913874724000098480450318706777361982744197457633462179953786726815448073350453', '1229819585734049260125916137552338255195375781953', '17766115312331174131219014174297846442976946919');
INSERT INTO `d_private_key` VALUES (4, '77556485049833549089861225313180803781421850081820408064687114558888261175264266691617958612535407875329312971073748140388431479398848064770043660969618360370138863514814371312660205765064908093915830787907397375624390481487489950302014091225495278179730712157474820305716775505584683602528598127924020547271', '62835365125044595796149958248047539086060461122815500276001011032549123683071728959602670656692666805227900421502263460375284331676426678519218671478470543227537261055025193646961123096356706526154714437034584201008685518547205985610738108203746648927984675153864322256399012629902537124546115187212366446391', '89884656743115989798728680177833195902697884231481829008946174479745345206866543031882805565398370797868104967797600726390352939454981385127881313645544022463590867469480381546100007726330749210340769248570036529235228012220601625436603249529296284851200816432573939667121558774730621616495008589180237503043', '897395922560515751841709376556832149168463828471', '774358221478622168657537312577871777804116173842');
INSERT INTO `d_private_key` VALUES (5, '33425646412488004018438683388583768714440640668857530464718431676430494902355646843504164537858092271354582226612073143153259141037273899279177983292268560445748450727151113520084343601961170362063933046641841919453144194087899946566462344848658364385315935513575495538542466631495517990949178790114174686183', '50840534931256370298855115586763669613842566416514255174083265825836730902848462632211610361343197419667183777142341946624452700708093674051059525045641087667404430366064207676974370309997907035743041941925390244164602406114113140286191676377213407293530169605254776005767573089689495348673551933982208555619', '89884656743115796579581996088194907650849115789822369100913917833137924567051501589004779227600838099211802081111354921140153046427232686884678041617637597232470601950522028293888694018626986975173099097226787724932455527800325115345557066359820649737544885241018567473865749222283229956629578437941921125049', '1300240265694624229058536730171801551656320116019', '44699221409018977897172601411750305632537074177');
INSERT INTO `d_private_key` VALUES (6, '76064756944515914582284101600505011016814365599867874589879284464831706239173071139448147148556266245712417436020332259000792046413843901500252254937362169499632855898728657293754229317178406192992964431450901348947950573105072725248697182111032317606474517007945413340051580562529614244083817482258342083367', '47787973613074216670990680149052600341258722465384748798042832984776763471242622961150233333648824866270721797850193276027959735681143211350973835674284493447042242710741100882613782164840963758690473951056150203356157107318550578369770174746758422662693941452417889291377668385727585865541923747720262294686', '89884656743115795406876218549809125523341317035713784821713047613509915229852351553729500228119922362067133947739484057806502699571909436569637584910009433187467343722208075554307756663456555428762655298246184734904985268409497294378894033144467520272024197140198398393939112278851640345897772926730555298171', '911209689566103155910265368231740932624993945153', '430939423704613079071226162273405274688913545622');
INSERT INTO `d_private_key` VALUES (7, '60966561474929793292334932505566579733357185356793828443241093712294578336741449077168149868708194757953385795331024909080012507447649183489629398037651722241688407543572231927325083951391762794111343052733469501386375380114759527929668722301820583916224435031996498332797720077912177535855606528291174314176', '72584141090915873808006606995126760799218032238795394825054960578286928454061143554157842827383034579174546928417852734434010577863574693869059868327060441561508533965576179246600338604096539050674811860969290584841783268675242619160893347113935529625689294645577640105906015641899265550901286717501511689216', '89884656743115795395313837699719552101694675467612744129848351152224205846620206113778313830751666401553363888360552805503979588326542424560269940142371128128997486764850947340927253904924904413577558668225031875317437431773512681643592313582880046444094855931541228376576405756141685817166934823967659072993', '843383325905262471077715545394638861640113322011', '290234629399448064644141412326040686497717967904');

-- ----------------------------
-- Table structure for d_user
-- ----------------------------
DROP TABLE IF EXISTS `d_user`;
CREATE TABLE `d_user`  (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `username` varchar(12) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
  `pwd` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
  `salt` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
  `doctor_info_id` int(11) NOT NULL,
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE INDEX `d_user_username_uindex`(`username`) USING BTREE,
  UNIQUE INDEX `d_user_pwd_uindex`(`pwd`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 5 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of d_user
-- ----------------------------
INSERT INTO `d_user` VALUES (1, 'user', '4199abe3d490d08f385f43880830240f874ed5d93a80542f5e11d2678dc590d9', 'd376cc0596c94c799ccc26ab3f9e1d5f', 1);
INSERT INTO `d_user` VALUES (2, 'user1', 'c00d33a60d8060c247d452037a14b74b0f35cf7cf737ec909833d20f7b8e3b27', '35dc0c0f02da45ec917401081fabf473', 2);
INSERT INTO `d_user` VALUES (3, '11', '4c7a42598d010bd0dda9e5ddf2807dc39c2ed69d9c927457b79f85b9fc0a1d78', '3143759dbce847fd89a3729e9673c4e5', 3);
INSERT INTO `d_user` VALUES (4, '33', '88fbe7805f94b659c7a92c10e16b043284410b319fa2524efa7c06ec24824630', 'f1c0f1de40da4f1abef9299426001bc3', 4);
INSERT INTO `d_user` VALUES (5, '323', '792d387fc9d12c135acfd4ec9167f535a70423d48b9c182784db1b69869fd8dc', 'f0df91c4d6e64b1ba4382622cad59948', 5);

SET FOREIGN_KEY_CHECKS = 1;
